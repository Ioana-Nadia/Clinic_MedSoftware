{% load static %}
<!DOCTYPE html>
<html>
	<head>
		<title>Your account</title>
		<meta= charset="utf-8">
		<script src='https://kit.fontawesome.com/a076d05399.js'></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<style>
			.nameBar {
				margin-top: 0px;
				margin-left: 0px;
				position: absolute;
				box-sizing: border-box;
				width: 1262px;
				height: 60px;
				background-color: #242526;
				border-radius: 25px;
				border: 1px solid #ffffff;
			}

			.Logo {
				width: 50px;
				height: 50px;
				position: absolute;
				border-radius: 50px;
				top: 3.5px;
				left: 1200px;
				border: 1px solid #17202A;
			}

			.button {
				border: 1.5px solid #ffffff;
				color: #ffffff;
				font-size: 16px;
			}

			.patientsButton {
				width: 200px;
				height: 340px;
				background-color: #FED558;
				top: 100px;
				left: 360px;
				position: absolute;
				border-radius: 25px 0px 0px 0px;
			}

			.doctorsButton {
				width: 340px;
				height: 170px;
				background-color: #142D73;
				top: 100px;
				left: 560px;
				position: absolute;
				border-radius: 0px 25px 0px 0px;
			}

			.interventionsButton {
				width: 340px;
				height: 170px;
				background-color: #32CD32;
				top: 270px;
				left: 560px;
				position: absolute;
			}

			.logoutButton {
				width: 540px;
				height: 105px;
				background-color: grey;
				position:absolute;
				left: 360px;
				top: 440px;
				border-radius: 0px 0px 25px 25px;
				background-color: #FE540C;
			}

			.closebtn {
				top: 10px;
				margin-left: 15px;
				color: white;
				font-weight: bold;
				float: right;
				font-size: 22px;
				line-height: 20px;
				cursor: pointer;
				transition: 0.3s;
			}

			.closebtn:hover {
				color: black;
			}

			#patientsPanel{
				position: absolute;
				width: 960px;
				height: 540px;
				left: 150px;
				border-radius: 25px;
			  font-size: 16px;
			  padding: 10px;
			  text-align: center;
			  background-color: #FFF8DC;
			  color: white;
			  border: solid 2px #FED558;
			  margin: auto;
			}

			#addPatient {
				position: absolute;
				color: #fff;
				width: 480px;
				height: 539px;
				left: 390px;
				border-radius: 25px;
				font-size: 16px;
				padding: 10px;
				text-align: center;
				background-color: #242526;
				border: solid 2.5px #4CAF50;
				margin: auto;
			}

			#addIntervention {
				position: absolute;
				color: #fff;
				width: 480px;
				height: 269px;
				top: 130px;
				left: 385px;
				border-radius: 25px;
				border: solid 2.5px #4CAF50;
				text-align: center;
				background-color: #242526;
				padding: 10px;
			}

			#interventionPanel {
				position: absolute;
				width: 960px;
				height: 540px;
				left: 150px;
				border-radius: 25px;
				font-size: 16px;
				padding: 10px;
				text-align: center;
				background-color: #FFF8DC;
				color: white;
				border: solid 2px #32CD32;
				margin: auto;
			}

			#patientsList, #interventionsList {
				position:absolute;
				left: 35px;
				width: 900px;
				height: 300px;
				border-radius: 25px;
				color:black;
				background-color:red;
			}

			#patientsPanel,  #addPatient, #interventionPanel, #addIntervention, #patientsList {
			  display: none;
			}

			.outline-text {
				text-shadow:-1px -1px 0 #000,
				1px -1px 0 #000,
				-1px 1px 0 #000,
				1px 1px 0 #000;
			}

			.addButton {
				position: absolute;
				left: 10px;
				color: white;
				width: 100px;
				height: 25px;
				border-radius: 25px;
			}

			.addIButton {
				position: absolute;
				left: 10px;
				background-color: #32CD32;
				color: white;
				width: 150px;
				height: 25px;
				border-radius: 25px;
			}

			.inputClass {
				width: 350px;
				padding: 7px 7px;
				border-radius: 25px;
				background-color: #FFF8DC;
				left: 67px;
				position: absolute;
			}

			.submitButton {
				position: absolute;
				padding: 7px;
				width: 250px;
				left: 130px;
				background-color: #4CAF50;
				border-radius: 25px;
				color: #fff;
			}

			.submitButton:hover {
				background-color: #1CCB2D;
				color: white;
			}

			.table {
				left: 10px;
				top: 10px;
				position: absolute;
				width:860px;
				border: 0.5px solid #17202A;
			}

			.thead-table {
				background-color:grey;
				color:white;
			}

			body {
				background-color: #18191A;
			}

		</style>
	</head>
	<body>
		<div class="nameBar">
			<h3 style="color:white;left:10px;position:absolute;">{{ user.username }}</h3>
			<img src="{% static 'medRelations/images/Logo.png' %}" class="Logo">
		</div>
		<div>
			<button class="patientsButton button" onclick="patientsList()"><i class="fas fa-hospital-user" style="font-size:100px;color:white;"></i><br><strong>Patients</strong></button>
			<button class="doctorsButton button"><i class="fa fa-user-md" style="font-size:100px;color:white"></i><br><strong>Doctors</strong></button>
			<button class="interventionsButton button" onclick="interventionsList()"><i class='fas fa-tooth' style='font-size:90px;color:white'></i><br><strong>Interventions</strong></button>
			<a href="{% url 'registration' %}">
				<button class="logoutButton button"><i class="fas fa-sign-out-alt"style='font-size:60px;color:white'></i><br><strong>Log out</strong></button>
			</a>
		</div>
		<div id="patientsPanel">
			<button class="addButton outline-text" style="top:5px;background-color:#FED558;" onclick="addNewPatient()"><i class="fas fa-plus outline-text" style="color:white;"></i> Add patient</button>
			<button class="addButton outline-text" style="top:33px;background-color:#691188;text-align:center;" onclick="displayPatientsList()"><i class="fas fa-align-justify" style="color:white"></i> Patients</button>
		  <span class="closebtn outline-text" onclick="this.parentElement.style.display='none';">&times;</span>
			<h1 class="outline-text" style=text-align:center>{{user.username}}</h1>
			<div id="patientsList">
					<table class="table" border=1 frame=void rules='all'>
						<thead class="thead-table">
							<tr>
								<th scope="col">First Name</th>
								<th scope="col">Last Name</th>
								<th scope="col">Phone</th>
								<th scope="col">Actions</th>
							</tr>
						</thead>
						<form method="get" action="viewPatients"> {% csrf_token %}
							{% for patient in patientsForm %}
								<tbody>
									<tr>
										<td>{{patient.firstName}}</td>
										<td>{{patient.lastName}}</td>
										<td>{{patient.phone}}</td>
										<td>More</td>
									</tr>
								</tbody>
							{% endfor %}
						</form>
					</table>
			</div>
		</div>
		<div id="addPatient">
		  <span class="closebtn outline-text" onclick="this.parentElement.style.display='none';">&times;</span>
			<h3 class="outline-text" style=margin-left:33px>Complete the fields below to add a new patient</h3>
			<form method="post" action="newPatient"> {% csrf_token %}
				<input class="inputClass" name="firstName" type="text" placeholder="First Name" style=top:65px required><br>
				<input class="inputClass" name="lastName" type="text" placeholder="Last Name" style=top:100px required><br>
				<input class="inputClass" name="address" type="text" placeholder="Address" style=top:135px required><br>
				<input class="inputClass" name="email" type="text" placeholder="Email" style=top:170px><br>
				<input class="inputClass" name="phone" type="text" placeholder="Phone" style=top:205px required><br>
				<input class="inputClass" name="cnp" type="text" placeholder="Cnp" style=top:240px required><br>
				<input class="inputClass" name="allergies" type="text" placeholder="Allergies" style=top:275px required><br>
				<input class="inputClass" name="diseases" type="text" placeholder="Diseases" style=top:310px required><br>
				<input class="inputClass" name="currentTreatment" type="text" placeholder="Current Treatment" style=top:345px required><br>
				<input class="submitButton outline-text" name='submit' type="submit" value="Save" style=top:385px>
			</form>
		</div>
		<div id="interventionPanel">
			<button class="addIButton outline-text"  onclick="addNewIntervention()"><i class="fas fa-plus outline-text" style="color:white;"></i> Add intervention</button>
			<button class="addIButton outline-text" style="top:38px;background-color:#C96E80;text-align:center;" onclick="displayPatientsList()"><i class="fas fa-align-justify" style="color:white"></i> Interventions</button>
			<span class="closebtn outline-text" onclick="this.parentElement.style.display='none';">&times;</span>
			<h1 class="outline-text" style=text-align:center>{{user.username}}</h1>
		</div>
		<div id="addIntervention">
			<span class="closebtn outline-text" onclick="this.parentElement.style.display='none';">&times;</span>
			<h3 class="outline-text" style="margin-top:40px;">Complete the field below to add a new intervention</h3>
			<form method="post" action="newIntervention"> {% csrf_token %}
				<input class="inputClass" name="interventionName" type="text" placeholder="Intervention's name" style=top:100px required><br>
				<input class="submitButton outline-text" name='submit' type="submit" value="Save" style=top:145px>
			</form>
		</div>
		<script>
			function patientsList() {
			  document.getElementById("patientsPanel").style.display = "block";
				document.getElementById("patientsList").style.display = "none";
			}
			function addNewPatient() {
				 document.getElementById("addPatient").style.display = "block";
			}
			function interventionsList() {
				document.getElementById("interventionPanel").style.display = "block";
			}
			function addNewIntervention() {
				 document.getElementById("addIntervention").style.display = "block";
			}
			function displayPatientsList() {
				document.getElementById("patientsList").style.display = "block";
			}
		</script>
	</body>
</html>
